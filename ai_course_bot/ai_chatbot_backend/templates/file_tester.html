<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local File Retrieval API Tester</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="/static/css/file_tester.css">
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Local File Retrieval API Tester</h1>
            <p>A simple testing interface for the Local File Retrieval API endpoints</p>
        </div>
    </header>
    
    <main>
        <div class="content-container">
            <section class="controls-panel panel">
                <h2>API Controls</h2>
                
                <div class="form-container">
                    <form id="listFilesForm" class="form-group">
                        <h3>List Files</h3>
                        <div class="input-group">
                            <label for="directoryInput">Directory Path:</label>
                            <input type="text" id="directoryInput" placeholder="Leave empty for root directory">
                        </div>
                        <button type="submit" class="btn">
                            <i class="fas fa-list"></i> List Files
                        </button>
                    </form>
                    
                    <hr>
                    
                    <form id="getFileForm" class="form-group">
                        <h3>Get File</h3>
                        <div class="input-group">
                            <label for="filePathInput">File Path:</label>
                            <input type="text" id="filePathInput" placeholder="Path to file">
                        </div>
                        <button type="submit" class="btn">
                            <i class="fas fa-file-download"></i> Get File
                        </button>
                    </form>
                </div>
                
                <div class="api-docs">
                    <h3>API Documentation</h3>
                    <div class="api-endpoint">
                        <span class="method">GET</span>
                        <span class="endpoint">/v1/local-files</span>
                        <p>Lists files in a directory. Use the <code>directory</code> query parameter to specify a directory.</p>
                    </div>
                    <div class="api-endpoint">
                        <span class="method">GET</span>
                        <span class="endpoint">/v1/local-files/{file_path}</span>
                        <p>Retrieves a file. The <code>file_path</code> should be URL-encoded.</p>
                    </div>
                </div>
            </section>
            
            <section class="files-panel panel">
                <h2>Files</h2>
                <div id="fileList" class="file-list-container">
                    <div class="initial-message">
                        <i class="fas fa-folder-open"></i>
                        <p>Click "List Files" to view files</p>
                    </div>
                </div>
            </section>
            
            <section class="response-panel panel">
                <h2>API Response</h2>
                <pre id="jsonResponse" class="json-response">
                    <div class="initial-message">
                        <i class="fas fa-code"></i>
                        <p>API response will appear here</p>
                    </div>
                </pre>
            </section>
            
            <section class="preview-panel panel">
                <h2>Preview</h2>
                <div id="previewContent" class="preview-content">
                    <div class="initial-message">
                        <i class="fas fa-eye"></i>
                        <p>File preview will appear here</p>
                    </div>
                </div>
            </section>
        </div>
    </main>
    
    <div id="loadingIndicator" class="loading-indicator">
        <div class="spinner"></div>
    </div>
    
    <footer>
        <p>&copy; 2023 Local File Retrieval API Tester</p>
    </footer>
    
    <script src="/static/js/file_tester.js"></script>
</body>
</html> 